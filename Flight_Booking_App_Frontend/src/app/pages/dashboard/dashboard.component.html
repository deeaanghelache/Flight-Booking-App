<!-- <p>dashboard works!</p> -->

<header>
    <nav>
        <ul class="meniu">
            <li class="submeniu"><a href=""><i class="fas fa-home"></i></a></li>
            <li class="submeniu" id="special1" *ngIf="notLogged"><a href="/login">Login</a></li>
            <li class="submeniu" id="special2" *ngIf="notLogged"><a href="/register">Register</a></li>
            <li class="submeniu" id="special3" *ngIf="logged"><a href="/profile">Profile</a></li>
            <li class="submeniu" id="special4" *ngIf="logged"><a href="/bookings">Your Bookings</a></li>
            <li class="submeniu" id="special5" *ngIf="logged"><a href="/passengers">Your Passengers</a></li>
        </ul>
    </nav>
</header>

<main>
    <br>
    <br>
    <div class="grid">
        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
              <div class="carousel-item active">
                <img class="d-block w-100" src="/assets/Roma.jpg" alt="First slide">
              </div>
              <div class="carousel-item">
                <img class="d-block w-100" src="/assets/Paris.jpg" alt="Second slide">
              </div>
              <div class="carousel-item">
                <img class="d-block w-100" src="/assets/Praga.jpg" alt="Third slide">
              </div>
              <div class="carousel-item">
                <img class="d-block w-100" src="/assets/Barcelona.jpg" alt="Fourth slide">
              </div>
            </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <div class="booking">
                <p id="book">Book your flight <i class="fas fa-plane"></i></p>
                <form [formGroup]="bookingForm" (ngSubmit)="book()">
                  <div class="form-row">
                    <div class="form-group col-md-6" id="depGrid">
                      <label>Departure Airport</label>
                      <select class="form-control" 
                      [ngClass]="bookingForm.controls['departureAirport'].errors ? 'is-invalid' : ''"
                      formControlName="departureAirport"
                      id="exampleFormControlSelect1">
                          <option> -- select the departure airport -- </option>
                          <option *ngFor="let dep of departures">{{dep}}</option>
                      </select>
                    </div>

                    <div class="form-group col-md-6" id="arrGrid">
                      <label>Arrival Airport</label>
                      <select class="form-control" 
                      [ngClass]="bookingForm.controls['arrivalAirport'].errors ? 'is-invalid' : ''"
                      formControlName="arrivalAirport"
                      id="exampleFormControlSelect2">
                          <option> -- select the arrival airport -- </option>
                          <option *ngFor="let dest of destinations">{{dest}}</option>
                      </select>
                    </div>
                  </div>

                  <br>
                
                  <div class=pass>
                    <label>Number of Passengers</label>
                    <select class="form-control" 
                    [ngClass]="bookingForm.controls['numberOfPassengers'].errors ? 'is-invalid' : ''"
                    formControlName="numberOfPassengers"
                    id="exampleFormControlSelect3">
                      <option> -- select number of passengers -- </option>
                      <option *ngFor="let i of nrOfPassengers">{{i}}</option>
                    </select>
                  </div>

                  <br>

                  <div class="dates">
                    <div id="date1">
                      <label id="dep">Departure Date</label>
                      <input type="date"
                      class="form-control" 
                      [ngClass]="bookingForm.controls['departureDate'].errors ? 'is-invalid' : ''"
                      formControlName="departureDate">
                    </div>

                    <div id="date2">
                      <label id="arr">Arrival Date</label>
                      <input type="date"
                      class="form-control" 
                      [ngClass]="bookingForm.controls['arrivalDate'].errors ? 'is-invalid' : ''"
                      formControlName="arrivalDate">
                    </div>
                  </div>
                  
                  <br>

                  <div class="class">
                    <label>Class</label>
                    <select class="form-control" 
                    [ngClass]="bookingForm.controls['class'].errors ? 'is-invalid' : ''"
                    formControlName="class"
                    id="exampleFormControlSelect3">
                      <option>Economy</option>
                      <option>Business</option>
                    </select>
                  </div>
                  
                  <br>

                  <!-- <div class="radio">
                    <div class="form-check form-check-inline"
                    [ngClass]="bookingForm.controls['onlyDirect'].errors ? 'is-invalid' : ''"
                    formControlName="onlyDirect">
                      <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1">
                      <label class="form-check-label" for="inlineRadio1">Only Direct</label>
                    </div>
                    <div class="form-check form-check-inline"
                    [ngClass]="bookingForm.controls['onlyDirect'].errors ? 'is-invalid' : ''"
                    formControlName="onlyDirect">
                      <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
                      <label class="form-check-label" for="inlineRadio2">Two way trip</label>
                    </div>
                  </div> -->

                  <div class="radio">
                    <label>Only Direct</label>
                    <select class="form-check form-check-inline"
                    [ngClass]="bookingForm.controls['onlyDirect'].errors ? 'is-invalid' : ''"
                    formControlName="onlyDirect">
                    <option>False</option>
                    <option>True</option>
                    </select>
                  </div>

                  <div>
                    <input class="form-control"
                    [ngClass]="bookingForm.controls['userId'].errors ? 'is-invalid' : ''"
                     formControlName="userId" value={{userid}} hidden/>
                  </div>

                  <br>

                  <button 
                  id="buton" 
                  [disabled]="bookingForm.invalid" 
                  type="submit" class="btn btn-dark">
                      {{text}}
                  </button>

                </form>
          </div>
    </div>
</main>
